<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <!--<link type="text/css" rel=stylesheet href="/testcafe_client/styles.css" class="ui-stylesheet-TC2b9a6d">-->
    <script src="/hammerhead_client/hammerhead.js" class="script-TC2b9a6d"></script>
    <!--<script src="/testcafe_client/testcafe_core.js" class="script-TC2b9a6d"></script>
    <script src="/testcafe_client/testcafe_recorder.js" class="script-TC2b9a6d"></script>
    <script src="/testcafe_client/testcafe_ui_core.js" class="script-TC2b9a6d"></script>
    <script src="/testcafe_client/testcafe_ui_recorder.js" class="script-TC2b9a6d"></script>-->
</head>
<body>
<script type="text/javascript">
    HammerheadClient.define('Settings', function (require, exports) {
        exports.CROSS_DOMAIN_PROXY_PORT = 1335;
    });

    /*TestCafeClient.define('Settings', function (require, exports) {
        exports.CROSS_DOMAIN_PROXY_PORT = 1335;
    });
*/
    var UrlUtil = HammerheadClient.get('UrlUtil');

    UrlUtil.OriginLocation.get = function () {
        return 'https://example.com';
    };

    var hammerhead = HammerheadClient.get('Hammerhead'),
            PageProc = HammerheadClient.get('Shared.PageProc');

    hammerhead.init();

    //var ElementsMarker = TestCafeClient.get('UI.RecorderWidgets.ElementsMarker');
</script>

<script>
    eval(PageProc.processScript([
        'var input = window.top.document.querySelector("#uploadTestIFrame"),',
        '    files = input.files;',
        '',
        'try {',
        '    window.top.postMessage({',
        '        filesLength: files && files.length,',
        '        fileName: files && files[0].name,',
        '        fileType: files && files[0].type,',
        '        value: input.value',
        '    }, "*");',
        '} catch(e) {',
        '    window.top.postMessage(e, "*");',
        '}'
    ].join('')));
</script>
</body>
</html>